(this["webpackJsonpreact-day-8"]=this["webpackJsonpreact-day-8"]||[]).push([[0],{18:function(e,t,r){e.exports={card_holder:"movieCard_card_holder__1Nryt",img_holder:"movieCard_img_holder__2An23",details_holder:"movieCard_details_holder__13czx"}},19:function(e,t,r){e.exports={big_container:"details_big_container__QauCP",info_container:"details_info_container__1PicZ",words_container:"details_words_container__2owz2"}},38:function(e,t,r){},39:function(e,t,r){},65:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(16),o=r.n(i),s=(r(38),r(39),r(2)),c=r(7),d=r(8),l=r(12),u=r(10),h=r(9),j="FETCH_MOVIE",p="FETCH_MOVIE_SUCCESS",b="FETCH_MOVIE_FAIL",O="FETCH_MOVIE_DETAILS",v="FETCH_MOVIE_DETAILS_SUCCESS",m="FETCH_MOVIE_DETAILS_FAIL",_=r(22),f=r.n(_),x=r(18),g=r.n(x),y=r(11),D=r(1),E=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(D.jsxs)(y.b,{className:g.a.card_holder,to:{pathname:"/details/".concat(this.props.id)},children:[Object(D.jsx)("img",{src:this.props.poster,alt:"",className:g.a.img_holder}),Object(D.jsxs)("div",{className:g.a.details_holder,children:[Object(D.jsx)("h3",{children:this.props.title}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("p",{children:["Year: ",this.props.year]}),Object(D.jsxs)("p",{children:["Type: ",this.props.type]})]})]})]})}}]),r}(a.Component),L=E,C=(r(65),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).state={movieList:[]},a}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.movieData;e.movieData.isLoading&&!t.isLoading&&this.setState({movieList:t.data.Search})}},{key:"movieSubmit",value:function(){var e=this._inputEle.value;""!==e&&(this.props.onFetchMovie(e),this._inputEle.value="")}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("header",{children:[Object(D.jsx)("input",{type:"text",placeholder:"Movie Name",ref:function(t){return e._inputEle=t}}),Object(D.jsx)("button",{onClick:function(){return e.movieSubmit()},children:"Search"})]}),Object(D.jsx)("div",{children:this.state.movieList.map((function(e){return Object(D.jsx)(L,{title:e.Title,year:e.Year,poster:e.Poster,type:e.Type,id:e.imdbID})}))})]})}}]),r}(a.Component)),w={onFetchMovie:function(e){return function(t){t({type:j,payload:e});try{f.a.get("https://www.omdbapi.com/?apikey=85872d3a&s=".concat(e,"&page=1")).then((function(e){console.log("res...",e),200===e.status&&"True"===e.data.Response?t({type:p,payload:e.data}):alert(e.data.Error)})).catch((function(e){console.log("error 1",e.response.data.Error),t({type:b,error:e.response.data.Error})}))}catch(r){console.log("error 2",r.response.data.Error),t({type:b,error:r.response.data.Error})}}}},S=Object(h.b)((function(e){return{movieData:e.movie}}),w)(C),F=r(19),I=r.n(F),T=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var a;Object(c.a)(this,r),a=t.call(this,e);var n=window.location.href.split("/"),i=n[n.length-1];return a.state={movieID:i,data:{}},a}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.props.onFetchMovieDetails(this.state.movieID)}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!t.isLoading&&this.setState({data:t.data}),console.log(t.data)}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:I.a.big_container,children:[Object(D.jsx)("h1",{children:"Details"}),this.props.movieDetailsData.isLoading?Object(D.jsx)("h4",{children:"Loading...."}):Object(D.jsxs)("div",{className:I.a.info_container,children:[Object(D.jsx)("img",{src:this.state.data.Poster,alt:""}),Object(D.jsxs)("div",{className:I.a.words_container,children:[Object(D.jsx)("h3",{children:this.state.data.Title}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Actors:"})," ",this.state.data.Actors]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Plot:"})," ",this.state.data.Plot]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Director:"})," ",this.state.data.Director]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Genre:"})," ",this.state.data.Genre]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Runtime:"})," ",this.state.data.Runtime]}),Object(D.jsx)("button",{children:Object(D.jsx)(y.b,{to:"/",children:"Return"})})]})]})]})}}]),r}(a.Component),k={onFetchMovieDetails:function(e){return function(t){t({type:O});try{f.a.get("https://www.omdbapi.com/?apikey=85872d3a&i=".concat(e)).then((function(e){200===e.status&&t({type:v,payload:e.data})})).catch((function(e){console.log("error",e),t({type:m,error:e.response.data.Error})}))}catch(r){console.log("error",r),t({type:m,error:r.response.data.Error})}}}},M=Object(h.b)((function(e){return{movieDetailsData:e.movieDetails}}),k)(T);var A=function(){return Object(D.jsxs)(s.c,{children:[Object(D.jsx)(s.a,{path:"/",exact:!0,element:Object(D.jsx)(S,{})}),Object(D.jsx)(s.a,{path:"/details/:id",element:Object(D.jsx)(M,{})})]})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),i(e),o(e)}))},P=r(33),H=r(6),V=r(32),R=r.n(V),U=r(3),z=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case O:return{isLoading:!0,data:{},error:null};case v:return{isLoading:!1,data:t.payload,error:null};case m:return{isLoading:!1,data:{},error:t.error};default:return e}},B=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case j:return{isLoading:!0,data:{},error:null};case p:return{isLoading:!1,data:t.payload,error:null};case b:return{isLoading:!1,data:{},error:t.error};default:return e}},G=Object(U.b)({movie:B,movieDetails:z}),J={key:"root",version:1,storage:R.a},Y=Object(H.g)(J,G),Q=Object(P.a)({reducer:Y,middleware:function(e){return e({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})}}),Z=Object(H.h)(Q);o.a.render(Object(D.jsx)(n.a.StrictMode,{children:Object(D.jsx)(h.a,{store:Q,children:Object(D.jsx)(y.a,{classname:"App",basename:"/react-day-8",loading:null,persistor:Z,children:Object(D.jsx)(A,{})})})}),document.getElementById("root")),N()}},[[68,1,2]]]);
//# sourceMappingURL=main.f492db7b.chunk.js.map