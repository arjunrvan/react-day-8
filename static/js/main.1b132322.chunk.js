(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{18:function(e,t,a){e.exports={card_holder:"movieCard_card_holder__1Nryt",img_holder:"movieCard_img_holder__2An23",details_holder:"movieCard_details_holder__13czx"}},19:function(e,t,a){e.exports={big_container:"details_big_container__QauCP",info_container:"details_info_container__1PicZ",words_container:"details_words_container__2owz2"}},39:function(e,t,a){},40:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),o=a.n(i),s=(a(39),a.p,a(40),a(2)),c=a(7),d=a(8),l=a(12),h=a(10),u=a(9),j="FETCH_MOVIE",p="FETCH_MOVIE_SUCCESS",b="FETCH_MOVIE_FAIL",O="FETCH_MOVIE_DETAILS",v="FETCH_MOVIE_DETAILS_SUCCESS",m="FETCH_MOVIE_DETAILS_FAIL",_=a(22),f=a.n(_),x=a(18),g=a.n(x),y=a(11),D=a(1),E=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(D.jsxs)(y.b,{className:g.a.card_holder,to:{pathname:"/details/".concat(this.props.id)},children:[Object(D.jsx)("img",{src:this.props.poster,alt:"",className:g.a.img_holder}),Object(D.jsxs)("div",{className:g.a.details_holder,children:[Object(D.jsx)("h3",{children:this.props.title}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("p",{children:["Year: ",this.props.year]}),Object(D.jsxs)("p",{children:["Type: ",this.props.type]})]})]})]})}}]),a}(r.Component),L=E,C=(a(66),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={movieList:[]},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.movieData;Object.keys(e).length>0&&this.setState({movieList:e.data.Search})}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieData;e.movieData.isLoading&&!t.isLoading&&this.setState({movieList:t.data.Search})}},{key:"movieSubmit",value:function(){var e=this._inputEle.value;""!==e&&(this.props.onFetchMovie(e),this._inputEle.value="")}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("header",{children:[Object(D.jsx)("input",{type:"text",placeholder:"Movie Name",ref:function(t){return e._inputEle=t}}),Object(D.jsx)("button",{onClick:function(){return e.movieSubmit()},children:"Search"})]}),Object(D.jsx)("div",{children:this.state.movieList.map((function(e){return Object(D.jsx)(L,{title:e.Title,year:e.Year,poster:e.Poster,type:e.Type,id:e.imdbID})}))})]})}}]),a}(r.Component)),S={onFetchMovie:function(e){return function(t){t({type:j,payload:e});try{f.a.get("http://www.omdbapi.com/?apikey=85872d3a&s=".concat(e,"&page=1")).then((function(e){console.log("res...",e),200===e.status&&"True"===e.data.Response?t({type:p,payload:e.data}):alert(e.data.Error)})).catch((function(e){console.log("error 1",e.response.data.Error),t({type:b,error:e.response.data.Error})}))}catch(a){console.log("error 2",a.response.data.Error),t({type:b,error:a.response.data.Error})}}}},w=Object(u.b)((function(e){return{movieData:e.movie}}),S)(C),k=a(19),F=a.n(k),I=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var r;Object(c.a)(this,a),r=t.call(this,e);var n=window.location.href.split("/"),i=n[n.length-1];return r.state={movieID:i,data:{}},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchMovieDetails(this.state.movieID)}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!t.isLoading&&this.setState({data:t.data}),console.log(t.data)}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:F.a.big_container,children:[Object(D.jsx)("h1",{children:"Details"}),this.props.movieDetailsData.isLoading?Object(D.jsx)("h4",{children:"Loading...."}):Object(D.jsxs)("div",{className:F.a.info_container,children:[Object(D.jsx)("img",{src:this.state.data.Poster,alt:""}),Object(D.jsxs)("div",{className:F.a.words_container,children:[Object(D.jsx)("h3",{children:this.state.data.Title}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Actors:"})," ",this.state.data.Actors]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Plot:"})," ",this.state.data.Plot]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Director:"})," ",this.state.data.Director]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Genre:"})," ",this.state.data.Genre]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Runtime:"})," ",this.state.data.Runtime]}),Object(D.jsx)("button",{children:Object(D.jsx)(y.b,{to:"/",children:"Return"})})]})]})]})}}]),a}(r.Component),T={onFetchMovieDetails:function(e){return function(t){t({type:O});try{f.a.get("http://www.omdbapi.com/?apikey=85872d3a&i=".concat(e)).then((function(e){200===e.status&&t({type:v,payload:e.data})})).catch((function(e){console.log("error",e),t({type:m,error:e.response.data.Error})}))}catch(a){console.log("error",a),t({type:m,error:a.response.data.Error})}}}},M=Object(u.b)((function(e){return{movieDetailsData:e.movieDetails}}),T)(I);var A=function(){return Object(D.jsxs)(s.c,{classname:"App",basename:"/react-day-8",children:[Object(D.jsx)(s.a,{path:"/",exact:!0,element:Object(D.jsx)(w,{})}),Object(D.jsx)(s.a,{path:"/details/:id",element:Object(D.jsx)(M,{})})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),i(e),o(e)}))},P=a(34),H=a(6),V=a(32),R=a.n(V),U=a(3),z=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case O:return{isLoading:!0,data:{},error:null};case v:return{isLoading:!1,data:t.payload,error:null};case m:return{isLoading:!1,data:{},error:t.error};default:return e}},B=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case j:return{isLoading:!0,data:{},error:null};case p:return{isLoading:!1,data:t.payload,error:null};case b:return{isLoading:!1,data:{},error:t.error};default:return e}},G=Object(U.b)({movie:B,movieDetails:z}),J={key:"root",version:1,storage:R.a},Y=Object(H.g)(J,G),Q=Object(P.a)({reducer:Y,middleware:function(e){return e({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})}}),Z=Object(H.h)(Q),q=a(33);o.a.render(Object(D.jsx)(n.a.StrictMode,{children:Object(D.jsx)(u.a,{store:Q,children:Object(D.jsx)(q.a,{loading:null,persistor:Z,children:Object(D.jsx)(y.a,{children:Object(D.jsx)(A,{})})})})}),document.getElementById("root")),N()}},[[69,1,2]]]);
//# sourceMappingURL=main.1b132322.chunk.js.map